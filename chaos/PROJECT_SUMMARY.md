# ğŸ“Š Lightweight Charts Demo - é¡¹ç›®æ€»ç»“

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ **Lightweight Charts** ä½¿ç”¨æ¼”ç¤ºé¡¹ç›®ï¼ŒåŒ…å«ä»åŸºç¡€åˆ°é«˜çº§çš„å„ç§ç¤ºä¾‹ï¼Œä»¥åŠå¯å¤ç”¨çš„å·¥å…·ç±»åº“ã€‚é€‚åˆåˆå­¦è€…å­¦ä¹ å’Œå¼€å‘è€…å‚è€ƒã€‚

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
npm_test/
â”œâ”€â”€ home.html              # ä¸»é¡µå¯¼èˆªï¼ˆæ¨èä»è¿™é‡Œå¼€å§‹ï¼‰
â”œâ”€â”€ index.html             # åŸºç¡€æ¼”ç¤ºï¼ˆ5ç§å›¾è¡¨ç±»å‹ï¼‰
â”œâ”€â”€ advanced-demo.html     # é«˜çº§æ¼”ç¤ºï¼ˆå®æ—¶æ•°æ®+æŠ€æœ¯æŒ‡æ ‡ï¼‰
â”œâ”€â”€ module-demo.html       # æ¨¡å—åŒ–ç¤ºä¾‹ï¼ˆå·¥å…·ç±»ä½¿ç”¨ï¼‰
â”œâ”€â”€ chart-utils.js         # å·¥å…·ç±»åº“ï¼ˆå¯ç›´æ¥å¤ç”¨åˆ°é¡¹ç›®ä¸­ï¼‰
â”œâ”€â”€ README.md              # è¯¦ç»†æ–‡æ¡£
â”œâ”€â”€ QUICKSTART.md          # å¿«é€Ÿå…¥é—¨æŒ‡å—
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
â””â”€â”€ node_modules/          # ä¾èµ–åŒ…
    â””â”€â”€ lightweight-charts/
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å¯åŠ¨é¡¹ç›®

```bash
# æ–¹æ³• 1ï¼šå¯åŠ¨æœåŠ¡å™¨ï¼ˆè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼‰
npm start

# æ–¹æ³• 2ï¼šå¼€å‘æ¨¡å¼ï¼ˆç¦ç”¨ç¼“å­˜ï¼‰
npm run dev
```

æœåŠ¡å™¨åœ°å€ï¼šhttp://localhost:8080

### è®¿é—®æ¼”ç¤º

1. **ä¸»é¡µ**: http://localhost:8080/home.html
2. **åŸºç¡€æ¼”ç¤º**: http://localhost:8080/index.html
3. **é«˜çº§æ¼”ç¤º**: http://localhost:8080/advanced-demo.html
4. **æ¨¡å—åŒ–ç¤ºä¾‹**: http://localhost:8080/module-demo.html

## ğŸ“Š æ¼”ç¤ºå†…å®¹è¯¦è§£

### 1ï¸âƒ£ åŸºç¡€æ¼”ç¤º (index.html) - 18KB
**ç›®æ ‡ç”¨æˆ·**: åˆå­¦è€…

**åŒ…å«å›¾è¡¨ç±»å‹**:
- âœ… èœ¡çƒ›å›¾ï¼ˆKçº¿å›¾ï¼‰- å®Œæ•´çš„ OHLC æ•°æ®å±•ç¤º
- âœ… çº¿å½¢å›¾ - ç®€å•ä»·æ ¼è¶‹åŠ¿
- âœ… é¢ç§¯å›¾ - å¸¦æ¸å˜å¡«å……
- âœ… æŸ±çŠ¶å›¾ - æˆäº¤é‡å±•ç¤º
- âœ… å¤šç³»åˆ—ç»„åˆ - Kçº¿+å‡çº¿+æˆäº¤é‡

**äº¤äº’åŠŸèƒ½**:
- ä¸»é¢˜åˆ‡æ¢ï¼ˆäº®è‰²/æš—è‰²ï¼‰
- åŠ¨æ€æ·»åŠ æ•°æ®
- ç¼©æ”¾å’Œå¹³ç§»
- é¢œè‰²è‡ªå®šä¹‰
- æ¸å˜æ•ˆæœåˆ‡æ¢

**å­¦ä¹ è¦ç‚¹**:
- å¦‚ä½•åˆ›å»ºåŸºæœ¬å›¾è¡¨
- å¦‚ä½•æ·»åŠ å¤šä¸ªç³»åˆ—
- å¦‚ä½•æ›´æ–°æ•°æ®
- å¦‚ä½•è‡ªå®šä¹‰æ ·å¼

### 2ï¸âƒ£ é«˜çº§æ¼”ç¤º (advanced-demo.html) - 24KB
**ç›®æ ‡ç”¨æˆ·**: è¿›é˜¶å¼€å‘è€…

**æ ¸å¿ƒåŠŸèƒ½**:
- ğŸ”´ **å®æ—¶æ•°æ®æµ** - æ¨¡æ‹Ÿ WebSocket æ¯ç§’æ›´æ–°
- ğŸ“Š **RSI æŒ‡æ ‡** - ç›¸å¯¹å¼ºå¼±æŒ‡æ•°ï¼ˆ14å‘¨æœŸï¼‰
- ğŸ“‰ **MACD æŒ‡æ ‡** - è¶‹åŠ¿å’ŒåŠ¨é‡åˆ†æ
- ğŸ’¹ **è®¢å•æ·±åº¦å›¾** - ä¹°å–ç›˜åˆ†å¸ƒ
- ğŸ“ˆ **EMA å‡çº¿** - 12/26 å‘¨æœŸæŒ‡æ•°ç§»åŠ¨å¹³å‡

**å®æ—¶ç»Ÿè®¡é¢æ¿**:
- å½“å‰ä»·æ ¼åŠæ¶¨è·Œå¹…
- 24å°æ—¶æœ€é«˜/æœ€ä½ä»·
- 24å°æ—¶æˆäº¤é‡
- å®æ—¶æ›´æ–°çŠ¶æ€

**æ§åˆ¶åŠŸèƒ½**:
- æš‚åœ/æ¢å¤å®æ—¶æ›´æ–°
- æ¸…ç©ºæ•°æ®é‡æ–°ç”Ÿæˆ
- è°ƒæ•´æ›´æ–°é¢‘ç‡
- åˆ‡æ¢æŒ‡æ ‡æ˜¾ç¤º

**å­¦ä¹ è¦ç‚¹**:
- å®æ—¶æ•°æ®æ›´æ–°ç­–ç•¥
- æŠ€æœ¯æŒ‡æ ‡è®¡ç®—æ–¹æ³•
- å¤šå›¾è¡¨ååŒæ›´æ–°
- ä¸“ä¸š UI/UX è®¾è®¡

### 3ï¸âƒ£ æ¨¡å—åŒ–ç¤ºä¾‹ (module-demo.html) - 14KB
**ç›®æ ‡ç”¨æˆ·**: å®é™…é¡¹ç›®å¼€å‘è€…

**æ¼”ç¤ºæ¨¡å—**:
1. **ChartManager ç±»ä½¿ç”¨**
   - å¿«é€Ÿåˆ›å»ºå’Œç®¡ç†å›¾è¡¨
   - æ·»åŠ å¤šä¸ªç³»åˆ—
   - ä¸»é¢˜åˆ‡æ¢
   - æ•°æ®æ›´æ–°

2. **æŠ€æœ¯æŒ‡æ ‡è®¡ç®—**
   - SMA vs EMA å¯¹æ¯”
   - æŒ‡æ ‡å¼€å…³æ§åˆ¶
   - åŠ¨æ€æ•°æ®ç”Ÿæˆ

3. **å¸ƒæ—å¸¦æŒ‡æ ‡**
   - å¯è°ƒèŠ‚å‘¨æœŸï¼ˆ10/20/30ï¼‰
   - å¯è°ƒèŠ‚æ ‡å‡†å·®ï¼ˆ1Ïƒ/2Ïƒ/3Ïƒï¼‰
   - å®æ—¶è®¡ç®—æ›´æ–°

4. **æ•°æ®ç”Ÿæˆå™¨**
   - ä¸åŒæ³¢åŠ¨ç‡æ•°æ®
   - èœ¡çƒ›å›¾+æˆäº¤é‡
   - ä¸€é”®åˆ·æ–°

**å­¦ä¹ è¦ç‚¹**:
- ä»£ç ç»„ç»‡å’Œå°è£…
- å·¥å…·ç±»çš„è®¾è®¡æ¨¡å¼
- å‚æ•°åŒ–é…ç½®
- å¯å¤ç”¨ä»£ç ç¼–å†™

### 4ï¸âƒ£ å·¥å…·ç±»åº“ (chart-utils.js) - 11KB
**è¿™æ˜¯é¡¹ç›®çš„æ ¸å¿ƒä»·å€¼ï¼å¯ç›´æ¥å¤ç”¨åˆ°ä½ çš„é¡¹ç›®ä¸­**

**åŒ…å«çš„ç±»**:

#### ChartManager
å›¾è¡¨ç®¡ç†å™¨ï¼Œç®€åŒ–å›¾è¡¨æ“ä½œ

```javascript
const manager = new ChartManager('container-id');
manager.addCandlestickSeries('main');
manager.addLineSeries('ma20', { color: '#FF6B6B' });
manager.updateSeriesData('main', data);
manager.setTheme(true); // åˆ‡æ¢æš—è‰²ä¸»é¢˜
```

**ä¸»è¦æ–¹æ³•**:
- `addCandlestickSeries()` - æ·»åŠ Kçº¿å›¾
- `addLineSeries()` - æ·»åŠ çº¿å½¢å›¾
- `addAreaSeries()` - æ·»åŠ é¢ç§¯å›¾
- `addHistogramSeries()` - æ·»åŠ æŸ±çŠ¶å›¾
- `updateSeriesData()` - æ›´æ–°æ•°æ®
- `appendData()` - è¿½åŠ å•ä¸ªæ•°æ®ç‚¹
- `setTheme()` - åˆ‡æ¢ä¸»é¢˜
- `fitContent()` - é€‚é…å†…å®¹

#### IndicatorCalculator
æŠ€æœ¯æŒ‡æ ‡è®¡ç®—å™¨

```javascript
// ç§»åŠ¨å¹³å‡çº¿
const sma = IndicatorCalculator.calculateSMA(data, 20);
const ema = IndicatorCalculator.calculateEMA(data, 12);

// æŠ€æœ¯æŒ‡æ ‡
const rsi = IndicatorCalculator.calculateRSI(data, 14);
const { macdLine, signalLine, histogram } = 
    IndicatorCalculator.calculateMACD(data);
const { upper, middle, lower } = 
    IndicatorCalculator.calculateBollingerBands(data, 20, 2);
```

**æ”¯æŒçš„æŒ‡æ ‡**:
- SMAï¼ˆç®€å•ç§»åŠ¨å¹³å‡ï¼‰
- EMAï¼ˆæŒ‡æ•°ç§»åŠ¨å¹³å‡ï¼‰
- RSIï¼ˆç›¸å¯¹å¼ºå¼±æŒ‡æ•°ï¼‰
- MACDï¼ˆç§»åŠ¨å¹³å‡æ”¶æ•›èƒŒç¦»ï¼‰
- Bollinger Bandsï¼ˆå¸ƒæ—å¸¦ï¼‰

#### DataGenerator
æ•°æ®ç”Ÿæˆå™¨ï¼ˆç”¨äºæµ‹è¯•ï¼‰

```javascript
const candleData = DataGenerator.generateCandlestickData(100, 100);
const lineData = DataGenerator.generateLineData(100, 100, 5);
const volumeData = DataGenerator.generateVolumeData(candleData);
```

#### ChartEventHandler
äº‹ä»¶å¤„ç†å™¨

```javascript
const handler = new ChartEventHandler(manager);
handler.onCrosshairMove((param) => {
    // å¤„ç†åå­—å…‰æ ‡ç§»åŠ¨
});
```

## ğŸ¨ è®¾è®¡ç‰¹è‰²

### UI/UX è®¾è®¡
- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢** - æ¸å˜èƒŒæ™¯ã€å¡ç‰‡å¼å¸ƒå±€
- ğŸ“± **å®Œå…¨å“åº”å¼** - è‡ªé€‚åº”å„ç§å±å¹•å°ºå¯¸
- ğŸŒ™ **ä¸»é¢˜æ”¯æŒ** - äº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢
- âœ¨ **æµç•…åŠ¨ç”»** - CSS3 åŠ¨ç”»æ•ˆæœ
- ğŸ’« **äº¤äº’åé¦ˆ** - æŒ‰é’®æ‚¬åœã€ç‚¹å‡»æ•ˆæœ

### ä»£ç è´¨é‡
- ğŸ“¦ **æ¨¡å—åŒ–è®¾è®¡** - ES6 æ¨¡å—
- ğŸ”§ **å¯é…ç½®æ€§** - å‚æ•°åŒ–è®¾ç½®
- ğŸ“ **æ³¨é‡Šå®Œå–„** - è¯¦ç»†çš„ä»£ç æ³¨é‡Š
- ğŸ¯ **æœ€ä½³å®è·µ** - éµå¾ªä¸šç•Œæ ‡å‡†
- â™»ï¸ **å¯å¤ç”¨æ€§** - å·¥å…·ç±»å¯ç›´æ¥ä½¿ç”¨

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### é€‚åˆçš„åº”ç”¨åœºæ™¯

1. **é‡‘èäº¤æ˜“å¹³å°**
   - è‚¡ç¥¨äº¤æ˜“ç•Œé¢
   - åŠ å¯†è´§å¸äº¤æ˜“æ‰€
   - å¤–æ±‡äº¤æ˜“ç³»ç»Ÿ
   - æœŸè´§äº¤æ˜“å¹³å°

2. **æ•°æ®åˆ†æç³»ç»Ÿ**
   - é”€å”®æ•°æ®å¯è§†åŒ–
   - ç”¨æˆ·è¡Œä¸ºåˆ†æ
   - æ€§èƒ½æŒ‡æ ‡ç›‘æ§
   - IoT æ•°æ®å±•ç¤º

3. **æ•™è‚²åŸ¹è®­**
   - æŠ€æœ¯åˆ†ææ•™å­¦
   - å›¾è¡¨åº“ä½¿ç”¨åŸ¹è®­
   - å‰ç«¯å¼€å‘ç¤ºä¾‹
   - æ•°æ®å¯è§†åŒ–è¯¾ç¨‹

4. **ä¸ªäººé¡¹ç›®**
   - æŠ•èµ„ç»„åˆè¿½è¸ª
   - ä¸ªäººè´¢åŠ¡åˆ†æ
   - æ•°æ®ç›‘æ§é¢æ¿
   - ç»ƒä¹ é¡¹ç›®

## ğŸ”§ æŠ€æœ¯æ ˆ

- **Lightweight Charts**: v5.0.9 (TradingView)
- **JavaScript**: ES6+ æ¨¡å—åŒ–
- **HTML5 & CSS3**: ç°ä»£åŒ–æ ‡å‡†
- **http-server**: v14.1.1 (å¼€å‘æœåŠ¡å™¨)

## ğŸ“š å­¦ä¹ èµ„æº

### é¡¹ç›®æ–‡æ¡£
- **README.md** - å®Œæ•´é¡¹ç›®æ–‡æ¡£
- **QUICKSTART.md** - å¿«é€Ÿå…¥é—¨æŒ‡å—
- **PROJECT_SUMMARY.md** - æœ¬æ–‡æ¡£

### å®˜æ–¹èµ„æº
- [å®˜æ–¹æ–‡æ¡£](https://tradingview.github.io/lightweight-charts/)
- [API å‚è€ƒ](https://tradingview.github.io/lightweight-charts/docs/api)
- [GitHub ä»“åº“](https://github.com/tradingview/lightweight-charts)

## ğŸ“ å­¦ä¹ è·¯å¾„

### ç¬¬1é˜¶æ®µï¼šåŸºç¡€å…¥é—¨ï¼ˆ1-2å¤©ï¼‰
1. æ‰“å¼€ `home.html` æµè§ˆæ‰€æœ‰æ¼”ç¤º
2. å­¦ä¹  `index.html` çš„åŸºç¡€å›¾è¡¨ç±»å‹
3. ç†è§£æ•°æ®æ ¼å¼å’ŒåŸºæœ¬ API
4. å°è¯•ä¿®æ”¹æ ·å¼å’Œé¢œè‰²

### ç¬¬2é˜¶æ®µï¼šè¿›é˜¶å­¦ä¹ ï¼ˆ3-4å¤©ï¼‰
1. ç ”ç©¶ `advanced-demo.html` çš„å®æ—¶æ›´æ–°
2. å­¦ä¹ æŠ€æœ¯æŒ‡æ ‡çš„è®¡ç®—æ–¹æ³•
3. ç†è§£å¤šå›¾è¡¨ååŒå·¥ä½œ
4. æŒæ¡äº‹ä»¶å¤„ç†æœºåˆ¶

### ç¬¬3é˜¶æ®µï¼šå®æˆ˜åº”ç”¨ï¼ˆ5-7å¤©ï¼‰
1. é˜…è¯» `chart-utils.js` æºç 
2. å­¦ä¹  `module-demo.html` çš„å·¥å…·ç±»ä½¿ç”¨
3. åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­é›†æˆå·¥å…·ç±»
4. å¼€å‘è‡ªå·±çš„å›¾è¡¨åº”ç”¨

## ğŸš€ å¦‚ä½•æ‰©å±•

### æ·»åŠ æ–°çš„æŠ€æœ¯æŒ‡æ ‡

åœ¨ `chart-utils.js` ä¸­æ·»åŠ ï¼š

```javascript
static calculateNewIndicator(data, params) {
    // ä½ çš„è®¡ç®—é€»è¾‘
    return result;
}
```

### åˆ›å»ºè‡ªå®šä¹‰å›¾è¡¨ç±»å‹

```javascript
class CustomChartType extends ChartManager {
    constructor(containerId) {
        super(containerId);
        this.customInit();
    }
    
    customInit() {
        // è‡ªå®šä¹‰åˆå§‹åŒ–
    }
}
```

### é›†æˆçœŸå®æ•°æ®æº

```javascript
// WebSocket è¿æ¥
const ws = new WebSocket('wss://your-data-source');
ws.onmessage = (event) => {
    const data = JSON.parse(event.data);
    manager.appendData('price', {
        time: data.timestamp,
        value: data.price
    });
};
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **æ•°æ®é‡æ§åˆ¶**
   - é™åˆ¶åœ¨å±å¹•ä¸Šçš„æ•°æ®ç‚¹ï¼ˆ< 5000ï¼‰
   - ä½¿ç”¨æ•°æ®é‡‡æ ·
   - å®ç°è™šæ‹Ÿæ»šåŠ¨

2. **æ›´æ–°é¢‘ç‡**
   - åˆç†è®¾ç½®æ›´æ–°é—´éš”
   - ä½¿ç”¨ requestAnimationFrame
   - æ‰¹é‡æ›´æ–°æ•°æ®

3. **å†…å­˜ç®¡ç†**
   - åŠæ—¶æ¸…ç†æ—§æ•°æ®
   - é¿å…å†…å­˜æ³„æ¼
   - ä½¿ç”¨å¯¹è±¡æ± 

## ğŸ¯ é¡¹ç›®äº®ç‚¹

âœ¨ **å®Œæ•´æ€§** - ä»åŸºç¡€åˆ°é«˜çº§ï¼Œè¦†ç›–æ‰€æœ‰ä½¿ç”¨åœºæ™¯
âœ¨ **å®ç”¨æ€§** - å¯ç›´æ¥å¤ç”¨çš„å·¥å…·ç±»åº“
âœ¨ **ä¸“ä¸šæ€§** - çœŸå®äº¤æ˜“åœºæ™¯çš„æŠ€æœ¯æŒ‡æ ‡
âœ¨ **ç¾è§‚æ€§** - ç°ä»£åŒ–çš„ UI è®¾è®¡
âœ¨ **æ•™è‚²æ€§** - è¯¦ç»†çš„æ–‡æ¡£å’Œæ³¨é‡Š
âœ¨ **å¼€ç®±å³ç”¨** - npm start å³å¯è¿è¡Œ

## ğŸ“ è·å–å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿ

1. æŸ¥çœ‹ **README.md** è·å–è¯¦ç»†æ–‡æ¡£
2. é˜…è¯» **QUICKSTART.md** å¿«é€Ÿå…¥é—¨
3. æŸ¥çœ‹ä»£ç ä¸­çš„æ³¨é‡Šå’Œç¤ºä¾‹
4. è®¿é—®å®˜æ–¹æ–‡æ¡£è·å– API è¯¦æƒ…

## ğŸ‰ æ€»ç»“

è¿™ä¸ªé¡¹ç›®æä¾›äº†ï¼š

- âœ… 4 ä¸ªå®Œæ•´çš„ HTML æ¼”ç¤ºæ–‡ä»¶
- âœ… 1 ä¸ªå¯å¤ç”¨çš„å·¥å…·ç±»åº“
- âœ… 3 ä»½è¯¦ç»†çš„æ–‡æ¡£
- âœ… 5 ç§å›¾è¡¨ç±»å‹æ¼”ç¤º
- âœ… 5 ä¸ªæŠ€æœ¯æŒ‡æ ‡å®ç°
- âœ… æ•°åä¸ªäº¤äº’åŠŸèƒ½
- âœ… å®Œæ•´çš„å¼€å‘ç¯å¢ƒé…ç½®

**æ€»ä»£ç é‡**: çº¦ 1000+ è¡Œç²¾å¿ƒç¼–å†™çš„ä»£ç 
**æ€»æ–‡æ¡£é‡**: çº¦ 500+ è¡Œè¯¦ç»†æ–‡æ¡£

æ— è®ºä½ æ˜¯åˆå­¦è€…è¿˜æ˜¯ç»éªŒä¸°å¯Œçš„å¼€å‘è€…ï¼Œéƒ½èƒ½ä»è¿™ä¸ªé¡¹ç›®ä¸­å­¦åˆ°æœ‰ä»·å€¼çš„å†…å®¹ï¼

---

**ç¥ä½ å­¦ä¹ æ„‰å¿«ï¼Œå¼€å‘é¡ºåˆ©ï¼** ğŸš€ğŸ“Šâœ¨

