<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简单测试</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        #chart {
            background: white;
            width: 800px;
            height: 400px;
            margin: 20px auto;
        }
        .info {
            max-width: 800px;
            margin: 0 auto;
            padding: 10px;
            background: #fff;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="info">
        <h1>Lightweight Charts 简单测试</h1>
        <p id="status">正在加载...</p>
    </div>
    <div id="chart"></div>

    <script src="node_modules/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <script>
        console.log('Script loaded');
        console.log('LightweightCharts:', typeof LightweightCharts);
        console.log('LightweightCharts object:', LightweightCharts);

        const statusEl = document.getElementById('status');

        if (typeof LightweightCharts === 'undefined') {
            statusEl.innerHTML = '❌ LightweightCharts 未加载！';
            statusEl.style.color = 'red';
        } else {
            statusEl.innerHTML = '✅ LightweightCharts 加载成功！版本: ' + (LightweightCharts.version || '未知');
            statusEl.style.color = 'green';

            // 创建图表
            try {
                const chart = LightweightCharts.createChart(document.getElementById('chart'), {
                    width: 800,
                    height: 400,
                });

                console.log('Chart created:', chart);
                console.log('Chart methods:', Object.keys(chart));

                const series = chart.addCandlestickSeries();
                
                const data = [
                    { time: '2024-01-01', open: 100, high: 105, low: 95, close: 102 },
                    { time: '2024-01-02', open: 102, high: 110, low: 100, close: 108 },
                    { time: '2024-01-03', open: 108, high: 112, low: 105, close: 107 },
                ];

                series.setData(data);
                statusEl.innerHTML += '<br>✅ 图表创建成功！';
            } catch (error) {
                console.error('Error:', error);
                statusEl.innerHTML += '<br>❌ 错误: ' + error.message;
                statusEl.style.color = 'red';
            }
        }
    </script>
</body>
</html>



